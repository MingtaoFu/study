<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src = 'three.js'></script>
    <script>
        var renderer = null,
                scene = null,
                camera = null,
                cube = null,
                light = null,
                animating = null;
        function onLoad() {
            var container = document.getElementById('container');

            //创建渲染器，并加到div中
            renderer = new THREE.WebGLRenderer({antialias:true});
            renderer.setSize(container.offsetWidth,container.offsetHeight);
            renderer.setClearColor(0xEEEEEE, 1.0);
            renderer.shadowMapEnabled = true;



            //创建场景
            scene = new THREE.Scene();
            var axes = new THREE.AxisHelper(10);
            scene.add(axes);

            //雾化
            scene.fog = new THREE.FogExp2(0xffffff, 0.025);
            console.log(scene.fog);

            //创建相机，并添加到场景
            camera = new THREE.PerspectiveCamera(50, container.offsetWidth/container.offsetHeight, 0.1, 1000);
            camera.position.set(30, 30, 30);
            camera.lookAt(scene.position);
            //console.log(camera.lookAt.x);

            var mapUrl = 'h.jpeg';
            var map = THREE.ImageUtils.loadTexture(mapUrl);
            var material = new THREE.MeshLambertMaterial({map:map});
            var geometry = new THREE.BoxGeometry(4, 4, 4);
            cube = new THREE.Mesh(geometry, material);

            cube.position.x = 0;
            cube.position.y = 3;
            cube.position.z = 1.5;
            cube.castShadow = true;

            cube.name = 'tao';
            scene.add(cube);

            var planeMaterial = new THREE.MeshLambertMaterial({color: 0x00ffff});
            var planeGeometry = new THREE.PlaneGeometry(60, 60, 20, 20);
            var plane = new THREE.Mesh(planeGeometry, planeMaterial);
            plane.receiveShadow = true;
            plane.rotation.x=-0.5*Math.PI;
            plane.position.x=15;
            plane.position.y=0;
            plane.position.z=0;
            scene.add(plane);
            //创建一个光源

            light = new THREE.SpotLight(0xffffff);
            light.position.set(-40, 60, -15);
            light.castShadow = true;
            light.shadowDarkness = 0.5;


            scene.add(light);



            // add spotlight for the shadows


            container.appendChild(renderer.domElement);

            console.log(scene.getObjectByName('tao'));
            //scene.remove(cube);


            run();

        }

        function run(){
            renderer.render(scene, camera);
            cube.rotation.y -= 0.01;
            cube.rotation.x -= 0.01;
            cube.rotation.z -= 0.01;
            requestAnimationFrame(run);
        }






    </script>
</head>
<body onload="onLoad()">
    <div id = 'container' style="width: 500px; height: 500px;"></div>
</body>
</html>